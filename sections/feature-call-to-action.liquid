{{ 'component-feature-call-to-action.css' | asset_url | stylesheet_tag }}

<section class="feature-call-to-action-container">
    {% for block in section.blocks %}
        {% case block.type %}
            {% when 'image_picker' %}
            <article class="image_picker" {{block.shopify_attributes}}>
                <img 
                    class="feature-call-to-action-icon" 
                    src={{ block.settings.icon | img_url: '150x150' }} 
                    alt={{  blocking.settings.icon.alt }}
                    />
            </article>

            {% when 'title-text' %}
            <article class="title-text" {{block.shopify_attributes}}>
                <h3>{{block.settings.title-text}}</h3>
            </article>

        {% endcase %}
    {% endfor %}


    <img class="feature-call-to-action-img" src={{ section.settings.feature-image | img_url: '980x438' }} alt={{ section.settings.feature-image.alt }}/>
    <button class="feature-call-to-action-btn">{{ section.settings.linkurl }}</button>
</section>

{% schema %}

{
	"name": "Feature Call To Action",
	"tag": "section",
	"class": "feature-call-to-action",
	"settings": [{
			"type": "image_picker",
			"id": "feature-image",
			"label": "Feature Image"
		},
		{
			"type": "url",
			"id": "linkurl",
			"label": "Call to Action Button"
		}
	],
	"blocks": [{
			"name": "Icon",
			"type": "image_picker",
			"settings": [{
				"type": "image_picker",
				"id": "icon",
				"label": "Icon"
			}]
		},
		{
			"name": "Title",
			"type": "title-text",
			"settings": [{
				"type": "text",
				"id": "title-text",
				"label": "title"
			}]
		}
	],
	"presets": [{
		"name": "Feature Call To Action",
		"category": "Call To Action"
	}],
	"locales": {
		"en": {
			"title": "Feature Call to Action"
		}
	}
}

{% endschema %}